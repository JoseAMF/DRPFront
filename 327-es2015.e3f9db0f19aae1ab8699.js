(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[327],{23327:function(n,e,i){"use strict";i.r(e),i.d(e,{NgxAuthModule:function(){return Y}});var t=i(38583),r=i(3679),s=i(99763),o=i(86665),a=i(37716),l=i(50016);function u(n,e){if(1&n&&(a.TgZ(0,"li",19),a._uU(1),a.qZA()),2&n){const n=e.$implicit;a.xp6(1),a.Oqu(n)}}function c(n,e){if(1&n&&(a.TgZ(0,"nb-alert",16),a.TgZ(1,"ul",17),a.YNc(2,u,2,1,"li",18),a.qZA(),a.qZA()),2&n){const n=a.oxw();a.xp6(2),a.Q6J("ngForOf",n.errors)}}function g(n,e){if(1&n&&(a.TgZ(0,"li",19),a._uU(1),a.qZA()),2&n){const n=e.$implicit;a.xp6(1),a.Oqu(n)}}function d(n,e){if(1&n&&(a.TgZ(0,"nb-alert",20),a.TgZ(1,"ul",17),a.YNc(2,g,2,1,"li",18),a.qZA(),a.qZA()),2&n){const n=a.oxw();a.xp6(2),a.Q6J("ngForOf",n.messages)}}function p(n,e){1&n&&(a.TgZ(0,"p",22),a._uU(1," Email \xe9 obrigat\xf3rio'! "),a.qZA())}function f(n,e){1&n&&(a.TgZ(0,"p",22),a._uU(1," Email should be the real one! "),a.qZA())}function h(n,e){if(1&n&&(a.ynx(0),a.YNc(1,p,2,0,"p",21),a.YNc(2,f,2,0,"p",21),a.BQk()),2&n){a.oxw();const n=a.MAs(10);a.xp6(1),a.Q6J("ngIf",null==n.errors?null:n.errors.required),a.xp6(1),a.Q6J("ngIf",null==n.errors?null:n.errors.pattern)}}function Z(n,e){1&n&&(a.TgZ(0,"p",22),a._uU(1," Senha \xe9 obrigat\xf3ria!"),a.qZA())}function m(n,e){if(1&n&&(a.TgZ(0,"p",22),a._uU(1),a.qZA()),2&n){const n=a.oxw(2);a.xp6(1),a.AsE(" Senha deve ter de ",n.getConfigValue("forms.validation.password.minLength")," a ",n.getConfigValue("forms.validation.password.maxLength")," caracteres ")}}function q(n,e){if(1&n&&(a.ynx(0),a.YNc(1,Z,2,0,"p",21),a.YNc(2,m,2,2,"p",21),a.BQk()),2&n){a.oxw();const n=a.MAs(17);a.xp6(1),a.Q6J("ngIf",null==n.errors?null:n.errors.required),a.xp6(1),a.Q6J("ngIf",(null==n.errors?null:n.errors.minlength)||(null==n.errors?null:n.errors.maxlength))}}function b(n,e){if(1&n&&a._UZ(0,"nb-icon",31),2&n){const n=a.oxw(2).$implicit;a.Q6J("icon",n.icon)}}function A(n,e){if(1&n&&a._uU(0),2&n){const n=a.oxw(2).$implicit;a.Oqu(n.title)}}function w(n,e){if(1&n&&(a.TgZ(0,"a",28),a.YNc(1,b,1,1,"nb-icon",29),a.YNc(2,A,1,1,"ng-template",null,30,a.W1O),a.qZA()),2&n){const n=a.MAs(3),e=a.oxw().$implicit;a.ekj("with-icon",e.icon),a.Q6J("routerLink",e.link),a.uIk("target",e.target)("class",e.icon),a.xp6(1),a.Q6J("ngIf",e.icon)("ngIfElse",n)}}function x(n,e){if(1&n&&a._UZ(0,"nb-icon",31),2&n){const n=a.oxw(2).$implicit;a.Q6J("icon",n.icon)}}function v(n,e){if(1&n&&a._uU(0),2&n){const n=a.oxw(2).$implicit;a.Oqu(n.title)}}function T(n,e){if(1&n&&(a.TgZ(0,"a"),a.YNc(1,x,1,1,"nb-icon",29),a.YNc(2,v,1,1,"ng-template",null,30,a.W1O),a.qZA()),2&n){const n=a.MAs(3),e=a.oxw().$implicit;a.ekj("with-icon",e.icon),a.uIk("href",e.url,a.LSH)("target",e.target)("class",e.icon),a.xp6(1),a.Q6J("ngIf",e.icon)("ngIfElse",n)}}function J(n,e){if(1&n&&(a.ynx(0),a.YNc(1,w,4,7,"a",26),a.YNc(2,T,4,7,"a",27),a.BQk()),2&n){const n=e.$implicit;a.xp6(1),a.Q6J("ngIf",n.link),a.xp6(1),a.Q6J("ngIf",n.url)}}function M(n,e){if(1&n&&(a.TgZ(0,"section",23),a._uU(1," or enter with: "),a.TgZ(2,"div",24),a.YNc(3,J,3,2,"ng-container",25),a.qZA(),a.qZA()),2&n){const n=a.oxw();a.xp6(3),a.Q6J("ngForOf",n.socialLinks)}}let I=(()=>{class n extends o.Yx{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-login"]],features:[a.qOj],decls:22,vars:18,consts:[["id","title",1,"title"],["outline","danger","role","alert",4,"ngIf"],["outline","success","role","alert",4,"ngIf"],["aria-labelledby","title",3,"ngSubmit"],["form","ngForm"],[1,"form-control-group"],["for","input-username",1,"label"],["nbInput","","fullWidth","","name","email","id","input-email","placeholder","Email","fieldSize","large","autofocus","",3,"ngModel","status","required","ngModelChange"],["email","ngModel"],[4,"ngIf"],[1,"label-with-link"],["for","input-password",1,"label"],["nbInput","","fullWidth","","name","password","type","password","id","input-password","placeholder","Senha","fieldSize","large",3,"ngModel","status","required","minlength","maxlength","ngModelChange"],["password","ngModel"],["nbButton","","fullWidth","","status","primary","size","large",3,"disabled"],["class","links","aria-label","Social sign in",4,"ngIf"],["outline","danger","role","alert"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"],["outline","success","role","alert"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"],["aria-label","Social sign in",1,"links"],[1,"socials"],[4,"ngFor","ngForOf"],[3,"routerLink","with-icon",4,"ngIf"],[3,"with-icon",4,"ngIf"],[3,"routerLink"],[3,"icon",4,"ngIf","ngIfElse"],["title",""],[3,"icon"]],template:function(n,e){if(1&n&&(a.TgZ(0,"h1",0),a._uU(1,"DRPurchasing Login"),a.qZA(),a.YNc(2,c,3,1,"nb-alert",1),a.YNc(3,d,3,1,"nb-alert",2),a.TgZ(4,"form",3,4),a.NdJ("ngSubmit",function(){return e.login()}),a.TgZ(6,"div",5),a.TgZ(7,"label",6),a._uU(8,"Email:"),a.qZA(),a.TgZ(9,"input",7,8),a.NdJ("ngModelChange",function(n){return e.user.email=n}),a.qZA(),a.YNc(11,h,3,2,"ng-container",9),a.qZA(),a.TgZ(12,"div",5),a.TgZ(13,"span",10),a.TgZ(14,"label",11),a._uU(15,"Senha:"),a.qZA(),a.qZA(),a.TgZ(16,"input",12,13),a.NdJ("ngModelChange",function(n){return e.user.password=n}),a.qZA(),a.YNc(18,q,3,2,"ng-container",9),a.qZA(),a.TgZ(19,"button",14),a._uU(20," Log In "),a.qZA(),a.qZA(),a.YNc(21,M,4,1,"section",15)),2&n){const n=a.MAs(5),i=a.MAs(10),t=a.MAs(17);a.xp6(2),a.Q6J("ngIf",e.showMessages.error&&(null==e.errors?null:e.errors.length)&&!e.submitted),a.xp6(1),a.Q6J("ngIf",e.showMessages.success&&(null==e.messages?null:e.messages.length)&&!e.submitted),a.xp6(6),a.Q6J("ngModel",e.user.email)("status",i.dirty?i.invalid?"danger":"success":"basic")("required",e.getConfigValue("forms.validation.email.required")),a.uIk("aria-invalid",!(!i.invalid||!i.touched)||null),a.xp6(2),a.Q6J("ngIf",i.invalid&&i.touched),a.xp6(5),a.Q6J("ngModel",e.user.password)("status",t.dirty?t.invalid?"danger":"success":"basic")("required",e.getConfigValue("forms.validation.password.required"))("minlength",e.getConfigValue("forms.validation.password.minLength"))("maxlength",e.getConfigValue("forms.validation.password.maxLength")),a.uIk("aria-invalid",!(!t.invalid||!t.touched)||null),a.xp6(2),a.Q6J("ngIf",t.invalid&&t.touched),a.xp6(1),a.ekj("btn-pulse",e.submitted),a.Q6J("disabled",e.submitted||!n.valid),a.xp6(2),a.Q6J("ngIf",e.socialLinks&&e.socialLinks.length>0)}},directives:[t.O5,r._Y,r.JL,r.F,l.h8i,r.Fj,r.JJ,r.On,r.Q7,r.wO,r.nD,l.DPz,l.$9b,t.sg,s.yS,l.fMN],styles:[".navigation .link nb-icon {\n    display: none !important;\n  }"]}),n})();var k=i(12859),N=i(36987);const Q=function(){return["/"]},S=[{path:"",component:o.AC,children:[{path:"Login",component:I},{path:"UpdatePassword",component:(()=>{class n{constructor(n,e){this.authService=n,this.router=e,this.request=new k.Dg,this.serverErrorMessages=[]}ngOnInit(){}onSend(n){this.serverErrorMessages=[],this.request.newPassword===n?this.authService.updatePassword(this.request).subscribe(n=>{this.router.navigate(["/"])},n=>this.serverErrorMessages.push("Senha Atual Incorreta")):this.serverErrorMessages.push("Senhas com valores diferentes")}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(k.e8),a.Y36(s.F0))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:25,vars:5,consts:[["nbButton","","ghost","","routerLinkActive","router-link-active",3,"routerLink"],["icon","arrow-back-outline"],[3,"errorList","errorListChange"],[1,"form-group","row"],["for","inputPassword",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],["type","password","nbInput","","fullWidth","","id","inputPassword","placeholder","Senha",3,"ngModel","ngModelChange"],["type","password","nbInput","","fullWidth","","id","inputPassword","placeholder","Senha"],["repSenha",""],["nbButton","","status","primary",3,"click"]],template:function(n,e){if(1&n){const n=a.EpF();a.TgZ(0,"nb-card"),a.TgZ(1,"nb-card-header"),a.TgZ(2,"button",0),a._UZ(3,"nb-icon",1),a.qZA(),a._uU(4,"Atualizar Senha"),a.qZA(),a.TgZ(5,"nb-card-body"),a.TgZ(6,"ngx-page-alerts",2),a.NdJ("errorListChange",function(n){return e.serverErrorMessages=n}),a.qZA(),a.TgZ(7,"div",3),a.TgZ(8,"label",4),a._uU(9,"Senha"),a.qZA(),a.TgZ(10,"div",5),a.TgZ(11,"input",6),a.NdJ("ngModelChange",function(n){return e.request.password=n}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(12,"div",3),a.TgZ(13,"label",4),a._uU(14,"Nova Senha"),a.qZA(),a.TgZ(15,"div",5),a.TgZ(16,"input",6),a.NdJ("ngModelChange",function(n){return e.request.newPassword=n}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(17,"div",3),a.TgZ(18,"label",4),a._uU(19,"Repetir Senha"),a.qZA(),a.TgZ(20,"div",5),a._UZ(21,"input",7,8),a.qZA(),a.qZA(),a.TgZ(23,"button",9),a.NdJ("click",function(){a.CHM(n);const i=a.MAs(22);return e.onSend(i.value)}),a._uU(24," Atualizar"),a.qZA(),a.qZA(),a.qZA()}2&n&&(a.xp6(2),a.Q6J("routerLink",a.DdM(4,Q)),a.xp6(4),a.Q6J("errorList",e.serverErrorMessages),a.xp6(5),a.Q6J("ngModel",e.request.password),a.xp6(5),a.Q6J("ngModel",e.request.newPassword))},directives:[l.Asz,l.ndF,l.DPz,s.Od,s.rH,l.fMN,l.yKW,N.d,l.h8i,r.Fj,r.JJ,r.On],styles:["",".navigation .link nb-icon {\n    display: none !important;\n  }"]}),n})()}]}];let _=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[s.Bz.forChild(S)],s.Bz]}),n})();var U=i(65108);let Y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[t.ez,r.u5,s.Bz,l.PYG,l.nKr,l.T2N,l.MfT,_,o.S,U.m]]}),n})()}}]);