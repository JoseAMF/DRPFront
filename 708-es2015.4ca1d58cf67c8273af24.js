(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[708],{80708:function(e,t,i){"use strict";i.r(t),i.d(t,{AdminModule:function(){return U}});var r=i(38583),n=i(99763),o=i(37716),s=i(12859),l=i(50016),c=i(3679);function u(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"nb-list-item",4),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw().selectUser(t)}),o._uU(1),o.qZA()}if(2&e){const e=t.$implicit;o.xp6(1),o.hij(" ",e.isActive?e.email+" - Ativo":e.email+" - Inativo"," ")}}function a(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"nb-card-header"),o.TgZ(1,"button",5),o.NdJ("click",function(){return o.CHM(e),o.oxw().virado=!1}),o._UZ(2,"nb-icon",6),o.qZA(),o._uU(3),o.qZA()}if(2&e){const e=o.oxw();o.xp6(3),o.hij(" ",e.selectedUser.email," ")}}function d(e,t){if(1&e&&(o.TgZ(0,"nb-option",19),o._uU(1),o.qZA()),2&e){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}function Z(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"nb-card-body"),o.TgZ(1,"div",7),o.TgZ(2,"div",8),o.TgZ(3,"button",9),o.NdJ("click",function(){return o.CHM(e),o.oxw().deactivateUser()}),o._uU(4),o.qZA(),o.qZA(),o._UZ(5,"div",8),o.TgZ(6,"div",8),o.TgZ(7,"button",10),o.NdJ("click",function(){return o.CHM(e),o.oxw().resetPassword()}),o._uU(8,"Resetar Senha"),o.qZA(),o.qZA(),o.qZA(),o._UZ(9,"div",11),o.TgZ(10,"nb-card"),o.TgZ(11,"nb-card-body"),o.TgZ(12,"div",12),o.TgZ(13,"label",13),o._uU(14,"Nome"),o.qZA(),o.TgZ(15,"div",14),o._uU(16),o.qZA(),o.qZA(),o.TgZ(17,"div",12),o.TgZ(18,"label",13),o._uU(19,"Email"),o.qZA(),o.TgZ(20,"div",14),o._uU(21),o.qZA(),o.qZA(),o.TgZ(22,"div",12),o.TgZ(23,"label",13),o._uU(24,"Ativo"),o.qZA(),o.TgZ(25,"div",14),o._uU(26),o.qZA(),o.qZA(),o.TgZ(27,"div",12),o.TgZ(28,"label",13),o._uU(29,"Fun\xe7\xe3o"),o.qZA(),o.TgZ(30,"div",14),o.TgZ(31,"div",7),o.TgZ(32,"div",15),o.TgZ(33,"nb-select",16),o.NdJ("ngModelChange",function(t){return o.CHM(e),o.oxw().selectedUser.roleId=t}),o.YNc(34,d,2,2,"nb-option",17),o.qZA(),o.qZA(),o.TgZ(35,"div",15),o.TgZ(36,"button",18),o._uU(37,"Atualizar"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(3),o.Q6J("status",e.selectedUser.isActive?"danger":"success"),o.xp6(1),o.hij("",e.selectedUser.isActive?"Desativar":"Ativar"," Usu\xe1rio"),o.xp6(12),o.hij(" ",e.selectedUser.name," "),o.xp6(5),o.hij(" ",e.selectedUser.email," "),o.xp6(5),o.hij(" ",e.selectedUser.isActive?"Ativo":" Inativo"," "),o.xp6(7),o.Q6J("ngModel",e.selectedUser.roleId),o.xp6(1),o.Q6J("ngForOf",e.roles)}}const g=function(){return["new"]};let p=(()=>{class e{constructor(e,t){this.authService=e,this.roleService=t,this.virado=!1,this.users=[],this.roles=[]}ngOnInit(){this.virado=!1,this.selectedUser=null,this.roleService.list().subscribe(e=>{this.roles=e}),this.authService.list().subscribe(e=>{this.users=e})}selectUser(e){console.log(e),this.selectedUser=e,this.virado=!0}resetPassword(){this.authService.resetPassword(this.selectedUser.id).subscribe(e=>this.ngOnInit())}deactivateUser(){this.authService.deactivate(this.selectedUser.id).subscribe(e=>this.ngOnInit())}updateRole(){this.authService.updateRole(this.selectedUser.id,this.selectedUser.roleId).subscribe(e=>this.ngOnInit())}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(s.e8),o.Y36(s.Nj))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ngx-admin"]],decls:14,vars:7,consts:[[3,"showToggleButton","flipped","flippedChange"],["status","success","routerLinkActive","router-link-active","nbButton","",1,"float-right",3,"routerLink"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[2,"cursor","pointer",3,"click"],["nbButton","","ghost","",3,"click"],["icon","arrow-back-outline"],[1,"row"],[1,"col-4"],["nb","","nbButton","",3,"status","click"],[1,"btn","btn-warning",3,"click"],[1,"mt-3","mb-3"],[1,"form-group","row"],[1,"col-sm-3","label"],[1,"col-sm-9"],[1,"col-6"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["nbButton","","status","warning"],[3,"value"]],template:function(e,t){1&e&&(o.TgZ(0,"nb-flip-card",0),o.NdJ("flippedChange",function(e){return t.virado=e}),o.TgZ(1,"nb-card-front"),o.TgZ(2,"nb-card"),o.TgZ(3,"nb-card-header"),o._uU(4,"Usu\xe1rios "),o.TgZ(5,"button",1),o._uU(6,"Cadastrar"),o.qZA(),o.qZA(),o.TgZ(7,"nb-card-body"),o.TgZ(8,"nb-list"),o.YNc(9,u,2,1,"nb-list-item",2),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"nb-card-back"),o.TgZ(11,"nb-card"),o.YNc(12,a,4,1,"nb-card-header",3),o.YNc(13,Z,38,7,"nb-card-body",3),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("showToggleButton",!1)("flipped",t.virado),o.xp6(5),o.Q6J("routerLink",o.DdM(6,g)),o.xp6(4),o.Q6J("ngForOf",t.users),o.xp6(3),o.Q6J("ngIf",t.selectedUser),o.xp6(1),o.Q6J("ngIf",t.selectedUser))},directives:[l.fl2,l.zO1,l.Asz,l.ndF,l.DPz,n.Od,n.rH,l.yKW,l.zP_,r.sg,l.wgE,r.O5,l.qBV,l.fMN,l.rs,c.JJ,c.On,l.q51],styles:[""]}),e})();var b=i(85685),v=i(36987);const m=function(){return["../list"]};function A(e,t){1&e&&(o.TgZ(0,"a",18),o._UZ(1,"nb-icon",19),o.qZA()),2&e&&o.Q6J("routerLink",o.DdM(1,m))}function h(e,t){if(1&e&&(o.TgZ(0,"nb-option",14),o._uU(1),o.qZA()),2&e){const e=t.$implicit;o.Q6J("value",e.id),o.xp6(1),o.Oqu(e.name)}}const f=[{path:"",component:p},{path:"new",component:(()=>{class e extends b.e{constructor(e,t,i){super(e,new s.Ou),this.injector=e,this.authService=t,this.roleService=i,this.roles=[],this.roleService.list().subscribe(e=>this.roles=e)}buildResourceForm(){this.resourceForm=this.formBuilder.group({id:[0],email:[null,c.kI.required],password:[null,c.kI.required],name:[null,c.kI.required],isActive:[!0,c.kI.required],roleId:[!0,c.kI.required]})}getServiceCall(){throw new Error("Method not implemented.")}putServiceCall(){throw new Error("Method not implemented.")}postServiceCall(){return this.authService.register.bind(this.authService)}jsonDataToResourceFn(e){return Object.assign(new s.Ou,e)}navigateBack(){this.router.navigate(["../"],{relativeTo:this.route})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.zs3),o.Y36(s.e8),o.Y36(s.Nj))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ng-component"]],features:[o.qOj],decls:40,vars:9,consts:[[3,"formGroup","submit"],[1,"container"],["routerLinkActive","router-link-active",3,"routerLink",4,"ngIf"],[3,"errorList"],[1,"form-group","row"],["for","inputName",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","nbInput","","fullWidth","","id","inputName","placeholder","Nome","formControlName","name"],["for","inputEmail",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","inputEmail","placeholder","E-mail","formControlName","email"],["for","inputPassword",1,"label","col-sm-3","col-form-label"],["type","password","nbInput","","fullWidth","","id","inputPassword","placeholder","Senha","formControlName","password"],[1,"col-sm-3","label"],["id","isActive","formControlName","isActive","fullWidth","",3,"selected"],[3,"value"],["id","roleId","formControlName","roleId","fullWidth",""],[3,"value",4,"ngFor","ngForOf"],["nbButton","","status","primary","type","submit",3,"disabled"],["routerLinkActive","router-link-active",3,"routerLink"],["icon","arrow-back"]],template:function(e,t){1&e&&(o.TgZ(0,"form",0),o.NdJ("submit",function(){return t.submitForm()}),o.TgZ(1,"div",1),o.TgZ(2,"nb-card"),o.TgZ(3,"nb-card-header"),o.YNc(4,A,2,2,"a",2),o._uU(5," Novo Usu\xe1rio"),o.qZA(),o.TgZ(6,"nb-card-body"),o._UZ(7,"ngx-page-alerts",3),o.TgZ(8,"div",4),o.TgZ(9,"label",5),o._uU(10,"Nome do usu\xe1rio"),o.qZA(),o.TgZ(11,"div",6),o._UZ(12,"input",7),o.qZA(),o.qZA(),o.TgZ(13,"div",4),o.TgZ(14,"label",8),o._uU(15,"E-mail"),o.qZA(),o.TgZ(16,"div",6),o._UZ(17,"input",9),o.qZA(),o.qZA(),o.TgZ(18,"div",4),o.TgZ(19,"label",10),o._uU(20,"Senha"),o.qZA(),o.TgZ(21,"div",6),o._UZ(22,"input",11),o.qZA(),o.qZA(),o.TgZ(23,"div",4),o.TgZ(24,"label",12),o._uU(25,"Status"),o.qZA(),o.TgZ(26,"div",6),o.TgZ(27,"nb-select",13),o.TgZ(28,"nb-option",14),o._uU(29,"Ativo"),o.qZA(),o.TgZ(30,"nb-option",14),o._uU(31,"Inativo"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(32,"div",4),o.TgZ(33,"label",12),o._uU(34,"Fun\xe7\xe3o"),o.qZA(),o.TgZ(35,"div",6),o.TgZ(36,"nb-select",15),o.YNc(37,h,2,2,"nb-option",16),o.qZA(),o.qZA(),o.qZA(),o.TgZ(38,"button",17),o._uU(39),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("formGroup",t.resourceForm),o.xp6(4),o.Q6J("ngIf",!t.isNew),o.xp6(3),o.Q6J("errorList",t.serverErrorMessages),o.xp6(20),o.Q6J("selected",!0),o.xp6(1),o.Q6J("value",!0),o.xp6(2),o.Q6J("value",!1),o.xp6(7),o.Q6J("ngForOf",t.roles),o.xp6(1),o.Q6J("disabled",t.resourceForm.invalid),o.xp6(1),o.Oqu(t.isNew?"Cadastrar":"Atualizar"))},directives:[c._Y,c.JL,c.sg,l.Asz,l.ndF,r.O5,l.yKW,v.d,l.h8i,c.Fj,c.JJ,c.u,l.rs,l.q51,r.sg,l.DPz,n.yS,n.Od,l.fMN],styles:[""]}),e})()}];let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[n.Bz.forChild(f)],n.Bz]}),e})();var T=i(65108);let U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[r.ez,q,T.m]]}),e})()}}]);