!function(){function e(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,r){if(!e)return;if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw s}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[592],{85685:function(t,n,i){"use strict";i.d(n,{e:function(){return l}});var s=i(3679),a=i(99763),c=i(50016),u=i(37716),l=function(){var t=function(){function t(e,n){r(this,t),this.injector=e,this.resource=n,this.serverErrorMessages=null,this.isLoading=!1,this.isNew=!1,this.route=this.injector.get(a.gz),this.router=this.injector.get(a.F0),this.formBuilder=this.injector.get(s.qu),this.toastrService=this.injector.get(c.quB)}return o(t,[{key:"ngOnInit",value:function(){this.setCurrentAction(),this.buildResourceForm(),this.loadResource()}},{key:"ngAfterContentChecked",value:function(){this.setPageTitle()}},{key:"submitForm",value:function(){this.isLoading=!0,this.isNew?this.createResource():this.updateResource()}},{key:"setCurrentAction",value:function(){console.log(this.route.snapshot.url),"NEW"===this.route.snapshot.url[0].path.toUpperCase()&&(this.isNew=!0)}},{key:"loadResource",value:function(){var e=this;this.isNew||(this.isLoading=!0,console.log(+this.route.snapshot.paramMap.get("id")),this.getServiceCall()(+this.route.snapshot.paramMap.get("id")).subscribe(function(t){e.resource=t,e.patchDataToFomGroup(t),e.isLoading=!1},function(e){return alert("Ocorreu um erro no servidor, tente mais tarde.")}))}},{key:"patchDataToFomGroup",value:function(e){this.resourceForm.patchValue(e)}},{key:"setPageTitle",value:function(){this.pageTitle=this.isNew?this.creationPageTitle():this.editionPageTitle()}},{key:"creationPageTitle",value:function(){return"New"}},{key:"editionPageTitle",value:function(){return this.route.snapshot.paramMap.get("id")}},{key:"createResource",value:function(){var e=this,t=this.jsonDataToResourceFn(this.resourceForm.value);this.postServiceCall()(t).subscribe(function(){return e.actionsForSuccess(t)},function(t){return e.actionsForError(t)})}},{key:"updateResource",value:function(){var e=this,t=this.jsonDataToResourceFn(this.resourceForm.value);this.putServiceCall()(t).subscribe(function(){return e.actionsForSuccess(t)},function(t){return e.actionsForError(t)})}},{key:"actionsForSuccess",value:function(e){this.showToast("success",null,"Criado com sucesso"),this.navigateBack()}},{key:"navigateBack",value:function(){this.router.navigate(["../list"],{relativeTo:this.route})}},{key:"showToast",value:function(e,t,r){this.toastrService.show(r,t,{status:e,duration:5e3,hasIcon:!0,position:c.fe3.TOP_RIGHT,preventDuplicates:!1})}},{key:"actionsForError",value:function(t){this.isLoading=!1;var r=[];try{var n,o=e(t.errors);try{for(o.s();!(n=o.n()).done;){var i,s=e(n.value);try{for(s.s();!(i=s.n()).done;){var a=i.value;r.push(a)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){o.e(c)}finally{o.f()}}catch(u){console.error(t),this.serverErrorMessages=["Falha na comunica\xe7\xe3o com o servidor. Por favor, tente mais tarde."]}this.serverErrorMessages=r}}]),t}();return t.\u0275fac=function(e){u.$Z()},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t}()},8595:function(t,n,i){"use strict";i.d(n,{d:function(){return f}});var s=i(50016),a=i(85320),c=i(70419),u=i(99763),l=i(37716),f=function(){var t=function(){function t(e){r(this,t),this.injector=e,this.settings={actions:{columnTitle:"Actions",custom:[{name:"edit",title:'<i class="nb-edit"></i>'}],edit:!1,add:!1},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{}},this.source=new c.nC,this.resources=[],this.serverErrorMessages=null,this.isLoading=!1,this.dialogService=e.get(s.Gln),this.toastrService=this.injector.get(s.quB),this.router=this.injector.get(u.F0),this.route=this.injector.get(u.gz)}return o(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.getServiceCall()().subscribe(function(e){t.resources=t.orderResourceList(e),t.isLoading=!1,t.source.load(t.mapResourceToSmartTable(e))},function(r){t.showToast("danger",null,"Erro ao carregar a lista"),t.isLoading=!1;var n=[];try{var o,i=e(r.errors);try{for(i.s();!(o=i.n()).done;){var s,a=e(o.value);try{for(a.s();!(s=a.n()).done;){var c=s.value;n.push(c)}}catch(u){a.e(u)}finally{a.f()}}}catch(u){i.e(u)}finally{i.f()}}catch(l){console.error(r),t.serverErrorMessages=["Falha na comunica\xe7\xe3o com o servidor. Por favor, tente mais tarde."]}t.serverErrorMessages=n})}},{key:"deleteResource",value:function(t){var r=this;this.dialogService.open(a.z,{context:{Title:"Do you want to proceed ?",Message:"Deleted data cannot be recovered"}}).onClose.subscribe(function(n){n&&(r.isLoading=!0,r.deleteServiceCall()(r.fetchId(t)).subscribe(function(){r.resources=r.resources.filter(function(e){return e!==t}),r.source.load(r.mapResourceToSmartTable(r.resources)),r.isLoading=!1},function(t){r.isLoading=!1;var n=[];try{var o,i=e(t.errors);try{for(i.s();!(o=i.n()).done;){var s,a=e(o.value);try{for(a.s();!(s=a.n()).done;){var c=s.value;n.push(c)}}catch(u){a.e(u)}finally{a.f()}}}catch(u){i.e(u)}finally{i.f()}}catch(l){console.error(t),r.serverErrorMessages=["Falha na comunica\xe7\xe3o com o servidor. Por favor, tente mais tarde."]}r.serverErrorMessages=n}))})}},{key:"mapResourceToSmartTable",value:function(e){return e.map(function(e){return e})}},{key:"onCustomAction",value:function(e){"edit"===e.action&&this.router.navigate(["../",e.data.id],{relativeTo:this.route})}},{key:"orderResourceList",value:function(e){return e}},{key:"showToast",value:function(e,t,r){this.toastrService.show(r,t,{status:e,duration:5e3,hasIcon:!0,position:s.fe3.TOP_RIGHT,preventDuplicates:!1})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.zs3))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t}()},85320:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var i=n(37716),s=n(50016),a=n(38583);function c(e,t){if(1&e&&(i.TgZ(0,"nb-card-header"),i._uU(1),i.qZA()),2&e){var r=i.oxw();i.xp6(1),i.Oqu(r.Title)}}function u(e,t){if(1&e&&(i.TgZ(0,"nb-card-body"),i._uU(1),i.qZA()),2&e){var r=i.oxw();i.xp6(1),i.hij(" ",r.Message," ")}}var l=function(){var e=function(){function e(t){r(this,e),this.ref=t}return o(e,[{key:"cancel",value:function(){this.ref.close(!1)}},{key:"confirm",value:function(){this.ref.close(!0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(s.X4l))},e.\u0275cmp=i.Xpm({type:e,selectors:[["ngx-confirmation-dialog"]],inputs:{Title:"Title",Message:"Message"},decls:8,vars:2,consts:[[4,"ngIf"],["status","danger",1,"btn","btn-danger",3,"click"],["status","success",1,"btn","btn-success","float-right",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"nb-card"),i.YNc(1,c,2,1,"nb-card-header",0),i.YNc(2,u,2,1,"nb-card-body",0),i.TgZ(3,"nb-card-footer"),i.TgZ(4,"button",1),i.NdJ("click",function(){return t.cancel()}),i._uU(5,"Cancelar"),i.qZA(),i.TgZ(6,"button",2),i.NdJ("click",function(){return t.confirm()}),i._uU(7,"Confirmar"),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf",t.Title),i.xp6(1),i.Q6J("ngIf",t.Message))},directives:[s.Asz,a.O5,s.XWE,s.ndF,s.yKW],styles:[""]}),e}()},36987:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var o=n(37716),i=n(38583),s=n(50016);function a(e,t){if(1&e&&(o.TgZ(0,"nb-alert",2),o._uU(1),o.qZA()),2&e){var r=t.$implicit;o.xp6(1),o.Oqu(r)}}function c(e,t){if(1&e&&(o.TgZ(0,"nb-alert",3),o._uU(1),o.qZA()),2&e){var r=t.$implicit;o.xp6(1),o.hij(" ",r," ")}}var u=function(){var e=function e(){r(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["ngx-page-alerts"]],inputs:{errorList:"errorList",successList:"successList"},decls:3,vars:2,consts:[["status","success",4,"ngFor","ngForOf"],["status","danger",4,"ngFor","ngForOf"],["status","success"],["status","danger"]],template:function(e,t){1&e&&(o.TgZ(0,"div"),o.YNc(1,a,2,1,"nb-alert",0),o.YNc(2,c,2,1,"nb-alert",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngForOf",t.successList),o.xp6(1),o.Q6J("ngForOf",t.errorList))},directives:[i.sg,s.$9b],encapsulation:2}),e}()}}])}();