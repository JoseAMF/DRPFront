!function(){function e(e,i){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,i)}(e))||i&&e&&"number"==typeof e.length){a&&(e=a);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,l=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){c=!0,n=e},f:function(){try{l||null==a.return||a.return()}finally{if(c)throw n}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,a=u(e);if(t){var r=u(this).constructor;i=Reflect.construct(a,arguments,r)}else i=a.apply(this,arguments);return c(this,i)}}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[180],{93180:function(t,a,n){"use strict";n.r(a),n.d(a,{ClaimModule:function(){return H}});var c=n(38583),u=n(99763),s=n(64762),d=n(43190),p=n(12859),Z=n(85685),m=n(37716),v=n(50016),g=n(3679);function f(e,t){1&e&&m._uU(0,"Or\xe7ament\xe1rio")}function b(e,t){1&e&&m._uU(0,"Cota\xe7\xe3o")}function A(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"button",27),m.NdJ("click",function(){return m.CHM(i),m.oxw(2).submitToApproval()}),m._uU(1,"Req. Aprova\xe7\xe3o"),m.qZA()}if(2&e){var a=m.oxw(2);m.Q6J("disabled",a.resourceForm.touched)}}function T(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"button",28),m.NdJ("click",function(){return m.CHM(i),m.oxw(2).finalizeClaim()}),m._uU(1,"Finalizar"),m.qZA()}if(2&e){var a=m.oxw(2);m.Q6J("disabled",a.resourceForm.invalid)}}function q(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"nb-stepper",1),m.TgZ(1,"nb-step",2),m.YNc(2,f,1,0,"ng-template",null,3,m.W1O),m.TgZ(4,"div",4),m.TgZ(5,"label",5),m._uU(6,"SRI"),m.qZA(),m.TgZ(7,"div",6),m._uU(8),m.qZA(),m.qZA(),m.TgZ(9,"div",4),m.TgZ(10,"label",5),m._uU(11,"Respons\xe1vel TI"),m.qZA(),m.TgZ(12,"div",6),m._uU(13),m.qZA(),m.qZA(),m.TgZ(14,"div",4),m.TgZ(15,"label",7),m._uU(16,"Or\xe7ado"),m.qZA(),m.TgZ(17,"div",6),m._uU(18),m.qZA(),m.qZA(),m.TgZ(19,"div",4),m.TgZ(20,"label",7),m._uU(21,"Opex/Capex"),m.qZA(),m.TgZ(22,"div",6),m._uU(23),m.qZA(),m.qZA(),m.TgZ(24,"div",4),m.TgZ(25,"label",7),m._uU(26,"Projeto"),m.qZA(),m.TgZ(27,"div",6),m._uU(28),m.qZA(),m.qZA(),m.TgZ(29,"div",4),m.TgZ(30,"label",7),m._uU(31,"Centro de Custo"),m.qZA(),m.TgZ(32,"div",6),m._uU(33),m.qZA(),m.qZA(),m.TgZ(34,"div",4),m.TgZ(35,"label",5),m._uU(36,"Respons\xe1vel da \xe1rea"),m.qZA(),m.TgZ(37,"div",6),m._uU(38),m.qZA(),m.qZA(),m.TgZ(39,"div",4),m.TgZ(40,"label",5),m._uU(41,"Descri\xe7\xe3o"),m.qZA(),m.TgZ(42,"div",6),m._uU(43),m.qZA(),m.qZA(),m.TgZ(44,"div",4),m.TgZ(45,"label",7),m._uU(46,"Frequ\xeancia"),m.qZA(),m.TgZ(47,"div",6),m._uU(48),m.qZA(),m.qZA(),m.TgZ(49,"div",4),m.TgZ(50,"label",5),m._uU(51,"Documento"),m.qZA(),m.TgZ(52,"div",6),m._uU(53),m.qZA(),m.qZA(),m.TgZ(54,"div",4),m.TgZ(55,"label",5),m._uU(56,"Quantidade"),m.qZA(),m.TgZ(57,"div",6),m._uU(58),m.qZA(),m.qZA(),m.TgZ(59,"div",4),m.TgZ(60,"label",5),m._uU(61,"Pre\xe7o Unit\xe1rio"),m.qZA(),m.TgZ(62,"div",6),m._uU(63),m.qZA(),m.qZA(),m.TgZ(64,"div",4),m.TgZ(65,"label",5),m._uU(66,"Pre\xe7o Total"),m.qZA(),m.TgZ(67,"div",6),m._uU(68),m.qZA(),m.qZA(),m.qZA(),m.TgZ(69,"nb-step",2),m.YNc(70,b,1,0,"ng-template",null,8,m.W1O),m.TgZ(72,"form",9),m.NdJ("submit",function(){return m.CHM(i),m.oxw().submitForm()}),m.TgZ(73,"div",4),m.TgZ(74,"label",10),m._uU(75,"Material"),m.qZA(),m.TgZ(76,"div",6),m._UZ(77,"input",11),m.qZA(),m.qZA(),m.TgZ(78,"div",4),m.TgZ(79,"label",12),m._uU(80,"RC"),m.qZA(),m.TgZ(81,"div",6),m._UZ(82,"input",13),m.qZA(),m.qZA(),m.TgZ(83,"div",4),m.TgZ(84,"label",14),m._uU(85,"PC"),m.qZA(),m.TgZ(86,"div",6),m._UZ(87,"input",15),m.qZA(),m.qZA(),m.TgZ(88,"div",4),m.TgZ(89,"label",16),m._uU(90,"Fornecedor"),m.qZA(),m.TgZ(91,"div",6),m._UZ(92,"input",17),m.qZA(),m.qZA(),m.TgZ(93,"div",4),m.TgZ(94,"label",18),m._uU(95,"NF"),m.qZA(),m.TgZ(96,"div",6),m._UZ(97,"input",19),m.qZA(),m.qZA(),m.TgZ(98,"div",4),m.TgZ(99,"label",20),m._uU(100,"Vencimento"),m.qZA(),m.TgZ(101,"div",6),m._UZ(102,"input",21),m._UZ(103,"nb-datepicker",22,23),m.qZA(),m.qZA(),m.TgZ(105,"button",24),m._uU(106,"Salvar"),m.qZA(),m.YNc(107,A,2,1,"button",25),m.YNc(108,T,2,1,"button",26),m.qZA(),m.qZA(),m.qZA()}if(2&e){var a=m.MAs(3),r=m.MAs(71),o=m.MAs(104),n=m.oxw();m.xp6(1),m.Q6J("label",a),m.xp6(7),m.hij(" ",n.claim1Data.sri," "),m.xp6(5),m.hij(" ",n.claim1Data.tiResp," "),m.xp6(5),m.hij(" ",n.claim1Data.budgeted," "),m.xp6(5),m.hij(" ",n.claim1Data.opexCapex," "),m.xp6(5),m.hij(" ",n.claim1Data.project," "),m.xp6(5),m.hij(" ",n.claim1Data.costCenter," "),m.xp6(5),m.hij(" ",n.claim1Data.areaResp," "),m.xp6(5),m.hij(" ",n.claim1Data.description," "),m.xp6(5),m.hij(" ",n.claim1Data.frequency," "),m.xp6(5),m.hij(" ",n.claim1Data.document," "),m.xp6(5),m.hij(" ",n.claim1Data.quantity," "),m.xp6(5),m.hij(" R$ ",n.claim1Data.unitaryPrice," "),m.xp6(5),m.hij(" R$ ",n.claim1Data.unitaryPrice*n.claim1Data.quantity," "),m.xp6(1),m.Q6J("label",r),m.xp6(3),m.Q6J("formGroup",n.resourceForm),m.xp6(30),m.Q6J("nbDatepicker",o),m.xp6(3),m.Q6J("disabled",n.resourceForm.invalid&&("Em Cota\xe7\xe3o"===n.claim1Data.status||"Reprovado"===n.claim1Data.status)),m.xp6(2),m.Q6J("ngIf","Em Cota\xe7\xe3o"===n.claim1Data.status||"Reprovado"===n.claim1Data.status),m.xp6(1),m.Q6J("ngIf","Em Cota\xe7\xe3o"===n.claim1Data.status||"Reprovado"===n.claim1Data.status||"Em Cadastro"===n.claim1Data.status)}}var h=function(){var t=function(t){o(n,t);var a=l(n);function n(e,t,r,o){var l;return i(this,n),(l=a.call(this,e,new p.af)).injector=e,l.claimService=t,l.projectService=r,l.ccService=o,l.projects=[],l.ccs=[],l.loadData(),l}return r(n,[{key:"buildResourceForm",value:function(){this.resourceForm=this.formBuilder.group({id:[0],status:["Em Cota\xe7\xe3o"],material:[""],rc:[""],pc:[""],submitedBy:[""],provider:[""],nf:[""],dueDate:[new Date]})}},{key:"getServiceCall",value:function(){return this.claimService.getClaimCompras.bind(this.claimService)}},{key:"putServiceCall",value:function(){return this.claimService.updateClaimCompras.bind(this.claimService)}},{key:"postServiceCall",value:function(){throw new Error("Method not implemented.")}},{key:"jsonDataToResourceFn",value:function(e){return Object.assign(new p.af,e)}},{key:"submitToApproval",value:function(){var e=this;this.claimService.submitClaimToApproval(this.claim1Data.id).subscribe(function(t){e.navigateBack()})}},{key:"finalizeClaim",value:function(){var e=this;this.claimService.finalizeClaim(this.claim1Data.id).subscribe(function(t){e.navigateBack()})}},{key:"navigateBack",value:function(){this.router.navigate(["../../list"],{relativeTo:this.route})}},{key:"loadData",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.projectService.list().toPromise();case 2:return this.projects=t.sent,this.projects=this.projects.filter(function(e){return!0===e.isActive}),t.next=6,this.ccService.list().toPromise();case 6:this.ccs=t.sent,this.ccs=this.ccs.filter(function(e){return!0===e.isActive}),this.route.paramMap.pipe((0,d.w)(function(e){return i.claimService.getClaimOrcamentario(+e.get("id"))})).subscribe(function(t){i.resourceForm.controls.id.setValue(t.id),i.claim1Data=t;var a,r=e(i.projects);try{for(r.s();!(a=r.n()).done;){var o=a.value;if(o.id=t.projectId){i.claim1Data.project=o.projectName;break}}}catch(u){r.e(u)}finally{r.f()}var n,l=e(i.ccs);try{for(l.s();!(n=l.n()).done;){var c=n.value;if(c.id=t.projectId){i.claim1Data.costCenter=c.costCenterName;break}}}catch(u){l.e(u)}finally{l.f()}});case 9:case"end":return t.stop()}},t,this)}))}}]),n}(Z.e);return t.\u0275fac=function(e){return new(e||t)(m.Y36(m.zs3),m.Y36(p.Uk),m.Y36(p.Y4),m.Y36(p.ht))},t.\u0275cmp=m.Xpm({type:t,selectors:[["ng-component"]],features:[m.qOj],decls:3,vars:1,consts:[["orientation","horizontal",4,"ngIf"],["orientation","horizontal"],[3,"label"],["labelOne",""],[1,"form-group","row"],[1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],[1,"col-sm-3","label"],["labelTwo",""],[3,"formGroup","submit"],["for","inputMaterial",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","inputMaterial","placeholder","Material","id","material","formControlName","material"],["for","inputRc",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","inputRc","placeholder","RC","id","rc","formControlName","rc"],["for","inputPc",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","inputPc","placeholder","PC","id","pc","formControlName","pc"],["for","inputProvider",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","inputProvider","placeholder","Fornecedor","id","provider","formControlName","provider"],["for","inputNf",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","inputNf","placeholder","NF","id","nf","formControlName","nf"],["for","dueDate",1,"label","col-sm-3","col-form-label"],["nbInput","","placeholder","Vencimento","formControlName","dueDate",3,"nbDatepicker"],["format","dd/MM/yyyy"],["formcontrol",""],["nbButton","","status","primary","type","submit",3,"disabled"],["class","ml-3","nbButton","","status","success",3,"disabled","click",4,"ngIf"],["class","float-right","nbButton","","status","danger",3,"disabled","click",4,"ngIf"],["nbButton","","status","success",1,"ml-3",3,"disabled","click"],["nbButton","","status","danger",1,"float-right",3,"disabled","click"]],template:function(e,t){1&e&&(m.TgZ(0,"nb-card"),m.TgZ(1,"nb-card-body"),m.YNc(2,q,109,20,"nb-stepper",0),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Q6J("ngIf",void 0!==t.claim1Data))},directives:[v.Asz,v.yKW,c.O5,v.TLo,v.Sv4,g._Y,g.JL,g.sg,v.h8i,g.Fj,g.JJ,g.u,v.$kf,v.B4C,v.DPz],styles:[""]}),t}(),U=n(85320);function _(e,t){1&e&&m._uU(0,"Or\xe7ament\xe1rio")}function y(e,t){1&e&&m._uU(0,"Cota\xe7\xe3o")}function C(e,t){1&e&&m._uU(0,"Aprovac\xe3o")}function x(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"nb-stepper",1),m.TgZ(1,"nb-step",2),m.YNc(2,_,1,0,"ng-template",null,3,m.W1O),m.TgZ(4,"div",4),m.TgZ(5,"label",5),m._uU(6,"SRI"),m.qZA(),m.TgZ(7,"div",6),m._uU(8),m.qZA(),m.qZA(),m.TgZ(9,"div",4),m.TgZ(10,"label",5),m._uU(11,"Respons\xe1vel TI"),m.qZA(),m.TgZ(12,"div",6),m._uU(13),m.qZA(),m.qZA(),m.TgZ(14,"div",4),m.TgZ(15,"label",7),m._uU(16,"Or\xe7ado"),m.qZA(),m.TgZ(17,"div",6),m._uU(18),m.qZA(),m.qZA(),m.TgZ(19,"div",4),m.TgZ(20,"label",7),m._uU(21,"Opex/Capex"),m.qZA(),m.TgZ(22,"div",6),m._uU(23),m.qZA(),m.qZA(),m.TgZ(24,"div",4),m.TgZ(25,"label",7),m._uU(26,"Projeto"),m.qZA(),m.TgZ(27,"div",6),m._uU(28),m.qZA(),m.qZA(),m.TgZ(29,"div",4),m.TgZ(30,"label",7),m._uU(31,"Centro de Custo"),m.qZA(),m.TgZ(32,"div",6),m._uU(33),m.qZA(),m.qZA(),m.TgZ(34,"div",4),m.TgZ(35,"label",5),m._uU(36,"Respons\xe1vel da \xe1rea"),m.qZA(),m.TgZ(37,"div",6),m._uU(38),m.qZA(),m.qZA(),m.TgZ(39,"div",4),m.TgZ(40,"label",5),m._uU(41,"Descri\xe7\xe3o"),m.qZA(),m.TgZ(42,"div",6),m._uU(43),m.qZA(),m.qZA(),m.TgZ(44,"div",4),m.TgZ(45,"label",7),m._uU(46,"Frequ\xeancia"),m.qZA(),m.TgZ(47,"div",6),m._uU(48),m.qZA(),m.qZA(),m.TgZ(49,"div",4),m.TgZ(50,"label",5),m._uU(51,"Documento"),m.qZA(),m.TgZ(52,"div",6),m._uU(53),m.qZA(),m.qZA(),m.TgZ(54,"div",4),m.TgZ(55,"label",5),m._uU(56,"Quantidade"),m.qZA(),m.TgZ(57,"div",6),m._uU(58),m.qZA(),m.qZA(),m.TgZ(59,"div",4),m.TgZ(60,"label",5),m._uU(61,"Pre\xe7o Unit\xe1rio"),m.qZA(),m.TgZ(62,"div",6),m._uU(63),m.qZA(),m.qZA(),m.TgZ(64,"div",4),m.TgZ(65,"label",5),m._uU(66,"Pre\xe7o Total"),m.qZA(),m.TgZ(67,"div",6),m._uU(68),m.qZA(),m.qZA(),m.qZA(),m.TgZ(69,"nb-step",2),m.YNc(70,y,1,0,"ng-template",null,8,m.W1O),m.TgZ(72,"div",4),m.TgZ(73,"label",5),m._uU(74,"Requisitado por"),m.qZA(),m.TgZ(75,"div",6),m._uU(76),m.qZA(),m.qZA(),m.TgZ(77,"div",4),m.TgZ(78,"label",5),m._uU(79,"Material"),m.qZA(),m.TgZ(80,"div",6),m._uU(81),m.qZA(),m.qZA(),m.TgZ(82,"div",4),m.TgZ(83,"label",5),m._uU(84,"RC"),m.qZA(),m.TgZ(85,"div",6),m._uU(86),m.qZA(),m.qZA(),m.TgZ(87,"div",4),m.TgZ(88,"label",5),m._uU(89,"PC"),m.qZA(),m.TgZ(90,"div",6),m._uU(91),m.qZA(),m.qZA(),m.TgZ(92,"div",4),m.TgZ(93,"label",5),m._uU(94,"Fornecedor"),m.qZA(),m.TgZ(95,"div",6),m._uU(96),m.qZA(),m.qZA(),m.TgZ(97,"div",4),m.TgZ(98,"label",5),m._uU(99,"NF"),m.qZA(),m.TgZ(100,"div",6),m._uU(101),m.qZA(),m.qZA(),m.TgZ(102,"div",4),m.TgZ(103,"label",5),m._uU(104,"Vencimento"),m.qZA(),m.TgZ(105,"div",6),m._uU(106),m.ALo(107,"date"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(108,"nb-step",2),m.YNc(109,C,1,0,"ng-template",null,9,m.W1O),m.TgZ(111,"div",4),m.TgZ(112,"label",5),m._uU(113,"Valor Aprovado"),m.qZA(),m.TgZ(114,"div",6),m.TgZ(115,"input",10),m.NdJ("ngModelChange",function(e){return m.CHM(i),m.oxw().valorAprovado=e}),m.qZA(),m.qZA(),m.qZA(),m.TgZ(116,"button",11,12),m.NdJ("click",function(e){return m.CHM(i),m.oxw().approve(e)}),m._uU(118,"Aprovar"),m.qZA(),m.TgZ(119,"button",13),m.NdJ("click",function(){return m.CHM(i),m.oxw().deny()}),m._uU(120,"Reprovar"),m.qZA(),m.qZA(),m.qZA()}if(2&e){var a=m.MAs(3),r=m.MAs(71),o=m.MAs(110),n=m.oxw();m.xp6(1),m.Q6J("label",a),m.xp6(7),m.hij(" ",n.claim1Data.sri," "),m.xp6(5),m.hij(" ",n.claim1Data.tiResp," "),m.xp6(5),m.hij(" ",n.claim1Data.budgeted," "),m.xp6(5),m.hij(" ",n.claim1Data.opexCapex," "),m.xp6(5),m.hij(" ",n.claim1Data.project," "),m.xp6(5),m.hij(" ",n.claim1Data.costCenter," "),m.xp6(5),m.hij(" ",n.claim1Data.areaResp," "),m.xp6(5),m.hij(" ",n.claim1Data.description," "),m.xp6(5),m.hij(" ",n.claim1Data.frequency," "),m.xp6(5),m.hij(" ",n.claim1Data.document," "),m.xp6(5),m.hij(" ",n.claim1Data.quantity," "),m.xp6(5),m.hij(" ",n.claim1Data.unitaryPrice," "),m.xp6(5),m.hij(" R$ ",n.claim1Data.unitaryPrice*n.claim1Data.quantity," "),m.xp6(1),m.Q6J("label",r),m.xp6(7),m.hij(" ",n.claim2Data.submitedBy," "),m.xp6(5),m.hij(" ",n.claim2Data.material," "),m.xp6(5),m.hij(" ",n.claim2Data.rc," "),m.xp6(5),m.hij(" ",n.claim2Data.pc," "),m.xp6(5),m.hij(" ",n.claim2Data.provider," "),m.xp6(5),m.hij(" ",n.claim2Data.nf," "),m.xp6(5),m.hij(" ",m.xi3(107,24,n.claim2Data.dueDate,"dd/MM/yyyy")," "),m.xp6(2),m.Q6J("label",o),m.xp6(7),m.Q6J("ngModel",n.valorAprovado)}}var j=function(){var t=function(){function t(e,a,r,o,n,l,c){i(this,t),this.claimService=e,this.projectService=a,this.ccService=r,this.route=o,this.router=n,this.dialogService=l,this.toastrService=c,this.valorAprovado=0,this.projects=[],this.ccs=[]}return r(t,[{key:"ngOnInit",value:function(){this.loadData()}},{key:"approve",value:function(e){var t=this;this.dialogService.open(U.z,{context:{Title:"Desenha aprovar ?",Message:"Esta opera\xe7\xe3o n\xe3o pode ser revertida"}}).onClose.subscribe(function(e){e&&t.claimService.approveClaim(t.claim2Data.id,t.valorAprovado).subscribe(function(e){t.showToast("success","Aprovado","Claim aprovada com sucesso"),t.router.navigate(["../../list"],{relativeTo:t.route})})})}},{key:"deny",value:function(){var e=this;this.dialogService.open(U.z,{context:{Title:"Desenha reprovar ?",Message:"Esta opera\xe7\xe3o n\xe3o pode ser revertida"}}).onClose.subscribe(function(t){t&&e.claimService.denyClaim(e.claim2Data.id).subscribe(function(t){e.showToast("danger","Reprovado","Claim aprovada com sucesso"),e.router.navigate(["../../list"],{relativeTo:e.route})})})}},{key:"loadData",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.projectService.list().toPromise();case 2:return this.projects=t.sent,this.projects=this.projects.filter(function(e){return!0===e.isActive}),t.next=6,this.ccService.list().toPromise();case 6:this.ccs=t.sent,this.ccs=this.ccs.filter(function(e){return!0===e.isActive}),this.claimService.getClaimOrcamentario(+this.route.snapshot.paramMap.get("id")).subscribe(function(t){i.claim1Data=t,i.valorAprovado=t.unitaryPrice*t.quantity;var a,r=e(i.projects);try{for(r.s();!(a=r.n()).done;){var o=a.value;if(o.id=t.projectId){i.claim1Data.project=o.projectName;break}}}catch(u){r.e(u)}finally{r.f()}var n,l=e(i.ccs);try{for(l.s();!(n=l.n()).done;){var c=n.value;if(c.id=t.projectId){i.claim1Data.costCenter=c.costCenterName;break}}}catch(u){l.e(u)}finally{l.f()}}),this.claimService.getClaimCompras(+this.route.snapshot.paramMap.get("id")).subscribe(function(e){i.claim2Data=e,"Pendente Aprova\xe7\xe3o"!==i.claim2Data.status&&(i.showToast("danger","Fluxo incorreto","Aprova\xe7\xe3o s\xf3 pode ser feita em claims pendentes"),i.router.navigate(["../../list"],{relativeTo:i.route}))});case 10:case"end":return t.stop()}},t,this)}))}},{key:"showToast",value:function(e,t,i){this.toastrService.show(i,t,{status:e,duration:5e3,hasIcon:!0,position:v.fe3.TOP_RIGHT,preventDuplicates:!1})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.Y36(p.Uk),m.Y36(p.Y4),m.Y36(p.ht),m.Y36(u.gz),m.Y36(u.F0),m.Y36(v.Gln),m.Y36(v.quB))},t.\u0275cmp=m.Xpm({type:t,selectors:[["ng-component"]],decls:3,vars:1,consts:[["orientation","horizontal",4,"ngIf"],["orientation","horizontal"],[3,"label"],["labelOne",""],[1,"form-group","row"],[1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],[1,"col-sm-3","label"],["labelTwo",""],["labelThree",""],["type","number","nbInput","","fullWidth","","id","inputValor","placeholder","Valor Aprovado",3,"ngModel","ngModelChange"],["nbButton","","status","primary",3,"click"],["ap",""],["nbButton","","status","danger",1,"float-right",3,"click"]],template:function(e,t){1&e&&(m.TgZ(0,"nb-card"),m.TgZ(1,"nb-card-body"),m.YNc(2,x,121,27,"nb-stepper",0),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Q6J("ngIf",void 0!==t.claim1Data&&void 0!==t.claim2Data))},directives:[v.Asz,v.yKW,c.O5,v.TLo,v.Sv4,g.wV,v.h8i,g.Fj,g.JJ,g.On,v.DPz],pipes:[c.uU],styles:[""]}),t}();function D(e,t){1&e&&m._uU(0,"Or\xe7ament\xe1rio")}function k(e,t){1&e&&m._uU(0,"Cota\xe7\xe3o")}function S(e,t){1&e&&m._uU(0,"Aprovac\xe3o")}function I(e,t){1&e&&m._uU(0,"Compensa\xe7\xe3o")}function O(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"button",22),m.NdJ("click",function(){return m.CHM(i),m.oxw(2).finalizeClaim()}),m._uU(1,"Finalizar"),m.qZA()}}function w(e,t){if(1&e){var i=m.EpF();m.TgZ(0,"nb-stepper",1),m.TgZ(1,"nb-step",2),m.YNc(2,D,1,0,"ng-template",null,3,m.W1O),m.TgZ(4,"div",4),m.TgZ(5,"label",5),m._uU(6,"SRI"),m.qZA(),m.TgZ(7,"div",6),m._uU(8),m.qZA(),m.qZA(),m.TgZ(9,"div",4),m.TgZ(10,"label",5),m._uU(11,"Respons\xe1vel TI"),m.qZA(),m.TgZ(12,"div",6),m._uU(13),m.qZA(),m.qZA(),m.TgZ(14,"div",4),m.TgZ(15,"label",7),m._uU(16,"Or\xe7ado"),m.qZA(),m.TgZ(17,"div",6),m._uU(18),m.qZA(),m.qZA(),m.TgZ(19,"div",4),m.TgZ(20,"label",7),m._uU(21,"Opex/Capex"),m.qZA(),m.TgZ(22,"div",6),m._uU(23),m.qZA(),m.qZA(),m.TgZ(24,"div",4),m.TgZ(25,"label",7),m._uU(26,"Projeto"),m.qZA(),m.TgZ(27,"div",6),m._uU(28),m.qZA(),m.qZA(),m.TgZ(29,"div",4),m.TgZ(30,"label",7),m._uU(31,"Centro de Custo"),m.qZA(),m.TgZ(32,"div",6),m._uU(33),m.qZA(),m.qZA(),m.TgZ(34,"div",4),m.TgZ(35,"label",5),m._uU(36,"Respons\xe1vel da \xe1rea"),m.qZA(),m.TgZ(37,"div",6),m._uU(38),m.qZA(),m.qZA(),m.TgZ(39,"div",4),m.TgZ(40,"label",5),m._uU(41,"Descri\xe7\xe3o"),m.qZA(),m.TgZ(42,"div",6),m._uU(43),m.qZA(),m.qZA(),m.TgZ(44,"div",4),m.TgZ(45,"label",7),m._uU(46,"Frequ\xeancia"),m.qZA(),m.TgZ(47,"div",6),m._uU(48),m.qZA(),m.qZA(),m.TgZ(49,"div",4),m.TgZ(50,"label",5),m._uU(51,"Documento"),m.qZA(),m.TgZ(52,"div",6),m._uU(53),m.qZA(),m.qZA(),m.TgZ(54,"div",4),m.TgZ(55,"label",5),m._uU(56,"Quantidade"),m.qZA(),m.TgZ(57,"div",6),m._uU(58),m.qZA(),m.qZA(),m.TgZ(59,"div",4),m.TgZ(60,"label",5),m._uU(61,"Pre\xe7o Unit\xe1rio"),m.qZA(),m.TgZ(62,"div",6),m._uU(63),m.qZA(),m.qZA(),m.TgZ(64,"div",4),m.TgZ(65,"label",5),m._uU(66,"Pre\xe7o Total"),m.qZA(),m.TgZ(67,"div",6),m._uU(68),m.qZA(),m.qZA(),m.qZA(),m.TgZ(69,"nb-step",2),m.YNc(70,k,1,0,"ng-template",null,8,m.W1O),m.TgZ(72,"div",4),m.TgZ(73,"label",5),m._uU(74,"Requisitado por"),m.qZA(),m.TgZ(75,"div",6),m._uU(76),m.qZA(),m.qZA(),m.TgZ(77,"div",4),m.TgZ(78,"label",5),m._uU(79,"Material"),m.qZA(),m.TgZ(80,"div",6),m._uU(81),m.qZA(),m.qZA(),m.TgZ(82,"div",4),m.TgZ(83,"label",5),m._uU(84,"RC"),m.qZA(),m.TgZ(85,"div",6),m._uU(86),m.qZA(),m.qZA(),m.TgZ(87,"div",4),m.TgZ(88,"label",5),m._uU(89,"PC"),m.qZA(),m.TgZ(90,"div",6),m._uU(91),m.qZA(),m.qZA(),m.TgZ(92,"div",4),m.TgZ(93,"label",5),m._uU(94,"Fornecedor"),m.qZA(),m.TgZ(95,"div",6),m._uU(96),m.qZA(),m.qZA(),m.TgZ(97,"div",4),m.TgZ(98,"label",5),m._uU(99,"NF"),m.qZA(),m.TgZ(100,"div",6),m._uU(101),m.qZA(),m.qZA(),m.TgZ(102,"div",4),m.TgZ(103,"label",5),m._uU(104,"Vencimento"),m.qZA(),m.TgZ(105,"div",6),m._uU(106),m.ALo(107,"date"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(108,"nb-step",2),m.YNc(109,S,1,0,"ng-template",null,9,m.W1O),m.TgZ(111,"div",4),m.TgZ(112,"label",5),m._uU(113,"Valor Aprovado"),m.qZA(),m.TgZ(114,"div",6),m._uU(115),m.qZA(),m.qZA(),m.TgZ(116,"div",4),m.TgZ(117,"label",5),m._uU(118,"Aprovado em"),m.qZA(),m.TgZ(119,"div",6),m._uU(120),m.ALo(121,"date"),m.qZA(),m.qZA(),m.TgZ(122,"div",4),m.TgZ(123,"label",5),m._uU(124,"Aprovado por"),m.qZA(),m.TgZ(125,"div",6),m._uU(126),m.qZA(),m.qZA(),m.qZA(),m.TgZ(127,"nb-step",2),m.YNc(128,I,1,0,"ng-template",null,10,m.W1O),m.TgZ(130,"form",11),m.NdJ("submit",function(){return m.CHM(i),m.oxw().submitForm()}),m.TgZ(131,"div",4),m.TgZ(132,"label",12),m._uU(133,"MIGO"),m.qZA(),m.TgZ(134,"div",6),m._UZ(135,"input",13),m.qZA(),m.qZA(),m.TgZ(136,"div",4),m.TgZ(137,"label",14),m._uU(138,"Data de Compensa\xe7\xe3o"),m.qZA(),m.TgZ(139,"div",6),m._UZ(140,"input",15),m._UZ(141,"nb-datepicker",16,17),m.qZA(),m.qZA(),m.TgZ(143,"div",4),m.TgZ(144,"label",18),m._uU(145,"Observa\xe7\xe3o"),m.qZA(),m.TgZ(146,"div",6),m._UZ(147,"textarea",19),m.qZA(),m.qZA(),m.TgZ(148,"button",20),m._uU(149,"Salvar"),m.qZA(),m.YNc(150,O,2,0,"button",21),m.qZA(),m.qZA(),m.qZA()}if(2&e){var a=m.MAs(3),r=m.MAs(71),o=m.MAs(110),n=m.MAs(129),l=m.MAs(142),c=m.oxw();m.xp6(1),m.Q6J("label",a),m.xp6(7),m.hij(" ",c.claim1Data.sri," "),m.xp6(5),m.hij(" ",c.claim1Data.tiResp," "),m.xp6(5),m.hij(" ",c.claim1Data.budgeted," "),m.xp6(5),m.hij(" ",c.claim1Data.opexCapex," "),m.xp6(5),m.hij(" ",c.claim1Data.project," "),m.xp6(5),m.hij(" ",c.claim1Data.costCenter," "),m.xp6(5),m.hij(" ",c.claim1Data.areaResp," "),m.xp6(5),m.hij(" ",c.claim1Data.description," "),m.xp6(5),m.hij(" ",c.claim1Data.frequency," "),m.xp6(5),m.hij(" ",c.claim1Data.document," "),m.xp6(5),m.hij(" ",c.claim1Data.quantity," "),m.xp6(5),m.hij(" ",c.claim1Data.unitaryPrice," "),m.xp6(5),m.hij(" R$ ",c.claim1Data.unitaryPrice*c.claim1Data.quantity," "),m.xp6(1),m.Q6J("label",r),m.xp6(7),m.hij(" ",c.claim2Data.submitedBy," "),m.xp6(5),m.hij(" ",c.claim2Data.material," "),m.xp6(5),m.hij(" ",c.claim2Data.rc," "),m.xp6(5),m.hij(" ",c.claim2Data.pc," "),m.xp6(5),m.hij(" ",c.claim2Data.provider," "),m.xp6(5),m.hij(" ",c.claim2Data.nf," "),m.xp6(5),m.hij(" ",m.xi3(107,31,c.claim2Data.dueDate,"dd/MM/yyyy")," "),m.xp6(2),m.Q6J("label",o),m.xp6(7),m.hij(" ",c.resource.approvedValue," "),m.xp6(5),m.hij(" ",m.xi3(121,34,c.resource.approvedOn,"dd/MM/yyyy")," "),m.xp6(6),m.hij(" ",c.resource.approvedBy," "),m.xp6(1),m.Q6J("label",n),m.xp6(3),m.Q6J("formGroup",c.resourceForm),m.xp6(10),m.Q6J("nbDatepicker",l),m.xp6(8),m.Q6J("disabled",c.resourceForm.invalid&&("Aprovado"===c.claim1Data.status||"Em Compensa\xe7\xe3o"===c.claim1Data.status)),m.xp6(2),m.Q6J("ngIf","Em Compensa\xe7\xe3o"===c.claim1Data.status)}}var R=function(){var t=function(t){o(n,t);var a=l(n);function n(e,t,r,o){var l;return i(this,n),(l=a.call(this,e,new p.qx)).injector=e,l.claimService=t,l.projectService=r,l.ccService=o,l.projects=[],l.ccs=[],l.loadData(),l}return r(n,[{key:"buildResourceForm",value:function(){this.resourceForm=this.formBuilder.group({id:[0],status:["Em Cadastro"],migo:[""],compensationDate:[null],observation:[""]})}},{key:"getServiceCall",value:function(){return this.claimService.compensateClaimGET.bind(this.claimService)}},{key:"putServiceCall",value:function(){return this.claimService.compensateClaimPOST.bind(this.claimService)}},{key:"postServiceCall",value:function(){throw new Error("Method not implemented.")}},{key:"jsonDataToResourceFn",value:function(e){return Object.assign(new p.qx,e)}},{key:"finalizeClaim",value:function(){var e=this;this.claimService.finalizeClaim(this.claim1Data.id).subscribe(function(t){e.router.navigate(["../../list"],{relativeTo:e.route})})}},{key:"navigateBack",value:function(){this.router.navigate(["../../list"],{relativeTo:this.route})}},{key:"loadData",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.projectService.list().toPromise();case 2:return this.projects=t.sent,t.next=5,this.ccService.list().toPromise();case 5:this.ccs=t.sent,this.projects=this.projects.filter(function(e){return!0===e.isActive}),this.ccs=this.ccs.filter(function(e){return!0===e.isActive}),this.claimService.getClaimOrcamentario(+this.route.snapshot.paramMap.get("id")).subscribe(function(t){i.claim1Data=t;var a,r=e(i.projects);try{for(r.s();!(a=r.n()).done;){var o=a.value;if(o.id=t.projectId){i.claim1Data.project=o.projectName;break}}}catch(u){r.e(u)}finally{r.f()}var n,l=e(i.ccs);try{for(l.s();!(n=l.n()).done;){var c=n.value;if(c.id=t.projectId){i.claim1Data.costCenter=c.costCenterName;break}}}catch(u){l.e(u)}finally{l.f()}}),this.claimService.getClaimCompras(+this.route.snapshot.paramMap.get("id")).subscribe(function(e){i.claim2Data=e,"Aprovado"!==i.claim2Data.status&&"Em Compensa\xe7\xe3o"!==i.claim2Data.status&&(i.showToast("danger","Fluxo incorreto","Compensa\xe7\xe3o s\xf3 pode ser feita em claims aprovadas"),i.router.navigate(["../../list"],{relativeTo:i.route}))});case 10:case"end":return t.stop()}},t,this)}))}}]),n}(Z.e);return t.\u0275fac=function(e){return new(e||t)(m.Y36(m.zs3),m.Y36(p.Uk),m.Y36(p.Y4),m.Y36(p.ht))},t.\u0275cmp=m.Xpm({type:t,selectors:[["ng-component"]],features:[m.qOj],decls:3,vars:1,consts:[["orientation","horizontal",4,"ngIf"],["orientation","horizontal"],[3,"label"],["labelOne",""],[1,"form-group","row"],[1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],[1,"col-sm-3","label"],["labelTwo",""],["labelThree",""],["labelFor",""],[3,"formGroup","submit"],["for","InputMigo",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","InputMigo","placeholder","MIGO","id","migo","formControlName","migo"],["for","compensationDate",1,"label","col-sm-3","col-form-label"],["nbInput","","placeholder","Data de Compensa\xe7\xe3o","formControlName","compensationDate",3,"nbDatepicker"],["format","dd/MM/yyyy"],["formcontrol",""],["for","description",1,"label","col-sm-3","col-form-label"],["rows","5","nbInput","","fullWidth","","shape","round","placeholder","Observa\xe7\xe3o","id","observation","formControlName","observation"],["nbButton","","status","primary","type","submit",3,"disabled"],["class","float-right","nbButton","","status","danger",3,"click",4,"ngIf"],["nbButton","","status","danger",1,"float-right",3,"click"]],template:function(e,t){1&e&&(m.TgZ(0,"nb-card"),m.TgZ(1,"nb-card-body"),m.YNc(2,w,151,37,"nb-stepper",0),m.qZA(),m.qZA()),2&e&&(m.xp6(2),m.Q6J("ngIf",void 0!==t.claim1Data&&void 0!==t.claim2Data))},directives:[v.Asz,v.yKW,c.O5,v.TLo,v.Sv4,g._Y,g.JL,g.sg,v.h8i,g.Fj,g.JJ,g.u,v.$kf,v.B4C,v.DPz],pipes:[c.uU],styles:[""]}),t}(),M=n(8595),N=n(86665),J=n(36987),P=n(70419),F=function(){var e=function(e){o(a,e);var t=l(a);function a(e,r,o,n,l){var c;return i(this,a),(c=t.call(this,l)).nbAuthService=e,c.claimService=r,c.projectService=o,c.ccService=n,c.injector=l,c.permissionLevel="",c.nbAuthService.getToken().subscribe(function(e){c.setPermissions(e)}),c.settings={actions:{add:!1,edit:!1,delete:!1,columnTitle:"Editar",custom:[{name:"edit",title:'<i class="nb-edit"></i>'}]},columns:{}},c.settings.columns={id:{title:"id",type:"number"},status:{title:"Status",type:"string"},sri:{title:"SRI",type:"number"},totalValue:{title:"Pre\xe7o Total",type:"number"},description:{title:"Descri\xe7\xe3o",type:"string"}},c}return r(a,[{key:"getServiceCall",value:function(){return this.claimService.listClaimOrcamentario.bind(this.claimService)}},{key:"fetchId",value:function(e){return e.id}},{key:"deleteServiceCall",value:function(){return this.claimService.deleteClaimOrcamentario}},{key:"setPermissions",value:function(e){var t=e.getPayload();t["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"].includes("Gerencia")?this.permissionLevel="Gerencia":t["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"].includes("Compras")?this.permissionLevel="Compras":t["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"].includes("Orcamentario")&&(this.permissionLevel="Orcamentario")}},{key:"mapResourceToSmartTable",value:function(e){return e.map(function(e){return{id:e.id,status:e.status,sri:e.sri,totalValue:e.quantity*e.unitaryPrice,description:e.description}})}},{key:"onCustomAction",value:function(e){console.log(e.data.status),"edit"===e.action&&"Orcamentario"==this.permissionLevel&&("Em Cadastro"!==e.data.status?(this.serverErrorMessages=[],this.serverErrorMessages.push("A Claim "+e.data.id+" n\xe3o pode mais ser editada pois n\xe3o est\xe1 mais em cadastro.")):this.router.navigate(["../",e.data.id],{relativeTo:this.route})),"edit"===e.action&&"Compras"==this.permissionLevel&&("Pendente Aprova\xe7\xe3o"===e.data.status&&(this.serverErrorMessages=[],this.serverErrorMessages.push("A Claim "+e.data.id+" n\xe3o pode ser editada pois est\xe1 pendente de aprova\xe7\xe3o.")),"Em Cadastro"!=e.data.status&&"Em Cota\xe7\xe3o"!=e.data.status&&"Reprovado"!==e.data.status||this.router.navigate(["../budget/",e.data.id],{relativeTo:this.route}),"Aprovado"!==e.data.status&&"Em Compensa\xe7\xe3o"!==e.data.status||this.router.navigate(["../compensate/",e.data.id],{relativeTo:this.route})),"edit"===e.action&&"Gerencia"==this.permissionLevel&&"Pendente Aprova\xe7\xe3o"===e.data.status&&this.router.navigate(["../approve/",e.data.id],{relativeTo:this.route})}},{key:"onEdit",value:function(e){console.log(e.data.status),"edit"===e.action&&"Orcamentario"==this.permissionLevel&&("Em Cadastro"!==e.data.status?(this.serverErrorMessages=[],this.serverErrorMessages.push("A Claim "+e.data.id+" n\xe3o pode mais ser editada pois n\xe3o est\xe1 mais em cadastro.")):this.router.navigate(["../",e.data.id],{relativeTo:this.route})),"edit"===e.action&&"Compras"==this.permissionLevel&&("Pendente Aprova\xe7\xe3o"===e.data.status&&(this.serverErrorMessages=[],this.serverErrorMessages.push("A Claim "+e.data.id+" n\xe3o pode ser editada pois est\xe1 pendente de aprova\xe7\xe3o.")),"Em Cadastro"!=e.data.status&&"Em Cota\xe7\xe3o"!=e.data.status||this.router.navigate(["../budget/",e.data.id],{relativeTo:this.route}))}}]),a}(M.d);return e.\u0275fac=function(t){return new(t||e)(m.Y36(N._o),m.Y36(p.Uk),m.Y36(p.Y4),m.Y36(p.ht),m.Y36(m.zs3))},e.\u0275cmp=m.Xpm({type:e,selectors:[["ng-component"]],features:[m.qOj],decls:7,vars:3,consts:[[1,"container"],[3,"errorList","errorListChange"],[3,"settings","source","deleteConfirm","edit","custom"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"nb-card"),m.TgZ(2,"nb-card-header"),m._uU(3,"Claims"),m.qZA(),m.TgZ(4,"nb-card-body"),m.TgZ(5,"ngx-page-alerts",1),m.NdJ("errorListChange",function(e){return t.serverErrorMessages=e}),m.qZA(),m.TgZ(6,"ng2-smart-table",2),m.NdJ("deleteConfirm",function(e){return t.deleteResource(e.data)})("edit",function(e){return t.onEdit(e)})("custom",function(e){return t.onCustomAction(e)}),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.xp6(5),m.Q6J("errorList",t.serverErrorMessages),m.xp6(1),m.Q6J("settings",t.settings)("source",t.source))},directives:[v.Asz,v.ndF,v.yKW,J.d,P.T5],styles:[""]}),e}(),Y=function(){return["../list"]};function E(e,t){1&e&&(m.TgZ(0,"a",37),m._UZ(1,"nb-icon",38),m.qZA()),2&e&&m.Q6J("routerLink",m.DdM(1,Y))}function Q(e,t){if(1&e&&(m.TgZ(0,"nb-option",39),m._uU(1),m.qZA()),2&e){var i=t.$implicit;m.Q6J("value",i.id),m.xp6(1),m.Oqu(i.projectName)}}function z(e,t){if(1&e&&(m.TgZ(0,"nb-option",39),m._uU(1),m.qZA()),2&e){var i=t.$implicit;m.Q6J("value",i.id),m.xp6(1),m.Oqu(i.costCenterName)}}var B,W=function(){var e=function(e){o(a,e);var t=l(a);function a(e,r,o,n){var l;return i(this,a),(l=t.call(this,e,new p.Yf)).injector=e,l.claimService=r,l.projectService=o,l.costCenterService=n,l.projects=[],l.costCenters=[],l.projectService.list().subscribe(function(e){return l.projects=e.filter(function(e){return!0===e.isActive})}),l.costCenterService.list().subscribe(function(e){return l.costCenters=e.filter(function(e){return!0===e.isActive})}),l}return r(a,[{key:"buildResourceForm",value:function(){this.resourceForm=this.formBuilder.group({id:[0],status:["Em Cadastro"],sri:[null,[g.kI.required]],tiResp:[""],budgeted:["Sim",g.kI.required],opexCapex:["Opex",g.kI.required],projectId:[null,g.kI.required],costCenterId:[null,g.kI.required],areaResp:["",g.kI.required],description:[""],frequency:["Eventual",g.kI.required],document:[null,g.kI.required],quantity:[0,[g.kI.required,g.kI.min(1)]],unitaryPrice:[0,[g.kI.required,g.kI.min(1)]]})}},{key:"getServiceCall",value:function(){return this.claimService.getClaimOrcamentario.bind(this.claimService)}},{key:"putServiceCall",value:function(){return this.claimService.updateClaimOrcamentario.bind(this.claimService)}},{key:"postServiceCall",value:function(){return this.claimService.registerClaimOrcamentario.bind(this.claimService)}},{key:"jsonDataToResourceFn",value:function(e){return Object.assign(new p.Yf,e)}},{key:"logTest",value:function(){console.log(this.resourceForm)}}]),a}(Z.e);return e.\u0275fac=function(t){return new(t||e)(m.Y36(m.zs3),m.Y36(p.Uk),m.Y36(p.Y4),m.Y36(p.ht))},e.\u0275cmp=m.Xpm({type:e,selectors:[["ng-component"]],features:[m.qOj],decls:90,vars:7,consts:[[3,"formGroup","submit"],[1,"container"],["routerLinkActive","router-link-active",3,"routerLink",4,"ngIf"],[3,"errorList"],[1,"form-group","row"],["for","inputSRI",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],["type","number","nbInput","","fullWidth","","id","inputSRI","placeholder","SRI","id","sri","formControlName","sri"],["for","inputRespTI",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","inputRespTI","placeholder","Respons\xe1vel TI","id","tiResp","formControlName","tiResp"],[1,"col-sm-3","label"],["id","budgeted","formControlName","budgeted"],["value","Sim"],["value","N\xe3o"],["value","Cancelada"],["value","Recusada"],["Value","Opex","id","opexCapex","name","opexCapex","formControlName","opexCapex"],["value","Opex"],["value","Capex"],["id","projectId","formControlName","projectId","fullWidth",""],[3,"value",4,"ngFor","ngForOf"],["id","costCenterId","formControlName","costCenterId","fullWidth",""],["for","inputRespArea",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","inputRespArea","placeholder","Respons\xe1vel da \xe1rea","id","areaResp","formControlName","areaResp"],["for","description",1,"label","col-sm-3","col-form-label"],["rows","5","nbInput","","fullWidth","","shape","round","placeholder","Descri\xe7\xe3o","id","description","formControlName","description"],["value","Eventual","id","frequency","name","frequency","formControlName","frequency"],["value","Eventual"],["value","Mensal"],["value","Anual"],["for","inputDocument",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","inputDocument","placeholder","Documento","id","document","formControlName","document"],["for","inputQuantity",1,"label","col-sm-3","col-form-label"],["type","number","nbInput","","fullWidth","","id","inputQuantity","placeholder","Quantidade","id","quantity","formControlName","quantity"],["for","inputUnitaryPrice",1,"label","col-sm-3","col-form-label"],["type","number","nbInput","","fullWidth","","id","inputUnitaryPrice","placeholder","Pre\xe7o Unit\xe1rio","id","unitaryPrice","formControlName","unitaryPrice"],["nbButton","","status","primary","type","submit",3,"disabled"],["routerLinkActive","router-link-active",3,"routerLink"],["icon","arrow-back"],[3,"value"]],template:function(e,t){1&e&&(m.TgZ(0,"form",0),m.NdJ("submit",function(){return t.submitForm()}),m.TgZ(1,"div",1),m.TgZ(2,"nb-card"),m.TgZ(3,"nb-card-header"),m.YNc(4,E,2,2,"a",2),m._uU(5," Client Info"),m.qZA(),m.TgZ(6,"nb-card-body"),m._UZ(7,"ngx-page-alerts",3),m.TgZ(8,"div",4),m.TgZ(9,"label",5),m._uU(10,"SRI"),m.qZA(),m.TgZ(11,"div",6),m._UZ(12,"input",7),m.qZA(),m.qZA(),m.TgZ(13,"div",4),m.TgZ(14,"label",8),m._uU(15,"Respons\xe1vel TI"),m.qZA(),m.TgZ(16,"div",6),m._UZ(17,"input",9),m.qZA(),m.qZA(),m.TgZ(18,"div",4),m.TgZ(19,"label",10),m._uU(20,"Or\xe7ado"),m.qZA(),m.TgZ(21,"div",6),m.TgZ(22,"nb-select",11),m.TgZ(23,"nb-option",12),m._uU(24,"Sim"),m.qZA(),m.TgZ(25,"nb-option",13),m._uU(26,"N\xe3o"),m.qZA(),m.TgZ(27,"nb-option",14),m._uU(28,"Cancelada"),m.qZA(),m.TgZ(29,"nb-option",15),m._uU(30,"Recusada"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(31,"div",4),m.TgZ(32,"label",10),m._uU(33,"Opex/Capex"),m.qZA(),m.TgZ(34,"div",6),m.TgZ(35,"nb-radio-group",16),m.TgZ(36,"nb-radio",17),m._uU(37,"Opex"),m.qZA(),m.TgZ(38,"nb-radio",18),m._uU(39,"Capex"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(40,"div",4),m.TgZ(41,"label",10),m._uU(42,"Projeto"),m.qZA(),m.TgZ(43,"div",6),m.TgZ(44,"nb-select",19),m.YNc(45,Q,2,2,"nb-option",20),m.qZA(),m.qZA(),m.qZA(),m.TgZ(46,"div",4),m.TgZ(47,"label",10),m._uU(48,"Centro de Custo"),m.qZA(),m.TgZ(49,"div",6),m.TgZ(50,"nb-select",21),m.YNc(51,z,2,2,"nb-option",20),m.qZA(),m.qZA(),m.qZA(),m.TgZ(52,"div",4),m.TgZ(53,"label",22),m._uU(54,"Respons\xe1vel da \xe1rea"),m.qZA(),m.TgZ(55,"div",6),m._UZ(56,"input",23),m.qZA(),m.qZA(),m.TgZ(57,"div",4),m.TgZ(58,"label",24),m._uU(59,"Descri\xe7\xe3o"),m.qZA(),m.TgZ(60,"div",6),m._UZ(61,"textarea",25),m.qZA(),m.qZA(),m.TgZ(62,"div",4),m.TgZ(63,"label",10),m._uU(64,"Frequ\xeancia"),m.qZA(),m.TgZ(65,"div",6),m.TgZ(66,"nb-radio-group",26),m.TgZ(67,"nb-radio",27),m._uU(68,"Eventual"),m.qZA(),m.TgZ(69,"nb-radio",28),m._uU(70,"Mensal"),m.qZA(),m.TgZ(71,"nb-radio",29),m._uU(72,"Anual"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(73,"div",4),m.TgZ(74,"label",30),m._uU(75,"Documento"),m.qZA(),m.TgZ(76,"div",6),m._UZ(77,"input",31),m.qZA(),m.qZA(),m.TgZ(78,"div",4),m.TgZ(79,"label",32),m._uU(80,"Quantidade"),m.qZA(),m.TgZ(81,"div",6),m._UZ(82,"input",33),m.qZA(),m.qZA(),m.TgZ(83,"div",4),m.TgZ(84,"label",34),m._uU(85,"Pre\xe7o Unit\xe1rio"),m.qZA(),m.TgZ(86,"div",6),m._UZ(87,"input",35),m.qZA(),m.qZA(),m.TgZ(88,"button",36),m._uU(89),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.Q6J("formGroup",t.resourceForm),m.xp6(4),m.Q6J("ngIf",!t.isNew),m.xp6(3),m.Q6J("errorList",t.serverErrorMessages),m.xp6(38),m.Q6J("ngForOf",t.projects),m.xp6(6),m.Q6J("ngForOf",t.costCenters),m.xp6(37),m.Q6J("disabled",t.resourceForm.invalid),m.xp6(1),m.Oqu(t.isNew?"Cadastrar":"Atualizar"))},directives:[g._Y,g.JL,g.sg,v.Asz,v.ndF,c.O5,v.yKW,J.d,g.wV,v.h8i,g.Fj,g.JJ,g.u,v.rs,v.q51,v.MFI,v.r3g,c.sg,v.DPz,u.yS,u.Od,v.fMN],styles:[""]}),e}(),L=[{path:"list",component:F},{path:"new",component:W},{path:"budget/:id",component:h},{path:"approve/:id",component:j},{path:"compensate/:id",component:R},{path:":id",component:W}],G=function(){var e=function e(){i(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[u.Bz.forChild(L)],u.Bz]}),e}(),V=n(65108),H=((B=function e(){i(this,e)}).\u0275fac=function(e){return new(e||B)},B.\u0275mod=m.oAB({type:B}),B.\u0275inj=m.cJS({imports:[[c.ez,G,V.m]]}),B)}}])}();