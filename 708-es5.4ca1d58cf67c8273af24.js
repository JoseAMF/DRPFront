!function(){function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,o=r(e);if(t){var u=r(this).constructor;i=Reflect.construct(o,arguments,u)}else i=o.apply(this,arguments);return n(this,i)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(self.webpackChunkngx_admin=self.webpackChunkngx_admin||[]).push([[708],{80708:function(n,r,o){"use strict";o.r(r),o.d(r,{AdminModule:function(){return O}});var c=o(38583),s=o(99763),l=o(37716),a=o(12859),d=o(50016),f=o(3679);function Z(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"nb-list-item",4),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw().selectUser(e)}),l._uU(1),l.qZA()}if(2&e){var r=t.$implicit;l.xp6(1),l.hij(" ",r.isActive?r.email+" - Ativo":r.email+" - Inativo"," ")}}function v(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"nb-card-header"),l.TgZ(1,"button",5),l.NdJ("click",function(){return l.CHM(n),l.oxw().virado=!1}),l._UZ(2,"nb-icon",6),l.qZA(),l._uU(3),l.qZA()}if(2&e){var r=l.oxw();l.xp6(3),l.hij(" ",r.selectedUser.email," ")}}function p(e,t){if(1&e&&(l.TgZ(0,"nb-option",19),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.Oqu(n.name)}}function g(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"nb-card-body"),l.TgZ(1,"div",7),l.TgZ(2,"div",8),l.TgZ(3,"button",9),l.NdJ("click",function(){return l.CHM(n),l.oxw().deactivateUser()}),l._uU(4),l.qZA(),l.qZA(),l._UZ(5,"div",8),l.TgZ(6,"div",8),l.TgZ(7,"button",10),l.NdJ("click",function(){return l.CHM(n),l.oxw().resetPassword()}),l._uU(8,"Resetar Senha"),l.qZA(),l.qZA(),l.qZA(),l._UZ(9,"div",11),l.TgZ(10,"nb-card"),l.TgZ(11,"nb-card-body"),l.TgZ(12,"div",12),l.TgZ(13,"label",13),l._uU(14,"Nome"),l.qZA(),l.TgZ(15,"div",14),l._uU(16),l.qZA(),l.qZA(),l.TgZ(17,"div",12),l.TgZ(18,"label",13),l._uU(19,"Email"),l.qZA(),l.TgZ(20,"div",14),l._uU(21),l.qZA(),l.qZA(),l.TgZ(22,"div",12),l.TgZ(23,"label",13),l._uU(24,"Ativo"),l.qZA(),l.TgZ(25,"div",14),l._uU(26),l.qZA(),l.qZA(),l.TgZ(27,"div",12),l.TgZ(28,"label",13),l._uU(29,"Fun\xe7\xe3o"),l.qZA(),l.TgZ(30,"div",14),l.TgZ(31,"div",7),l.TgZ(32,"div",15),l.TgZ(33,"nb-select",16),l.NdJ("ngModelChange",function(e){return l.CHM(n),l.oxw().selectedUser.roleId=e}),l.YNc(34,p,2,2,"nb-option",17),l.qZA(),l.qZA(),l.TgZ(35,"div",15),l.TgZ(36,"button",18),l._uU(37,"Atualizar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var r=l.oxw();l.xp6(3),l.Q6J("status",r.selectedUser.isActive?"danger":"success"),l.xp6(1),l.hij("",r.selectedUser.isActive?"Desativar":"Ativar"," Usu\xe1rio"),l.xp6(12),l.hij(" ",r.selectedUser.name," "),l.xp6(5),l.hij(" ",r.selectedUser.email," "),l.xp6(5),l.hij(" ",r.selectedUser.isActive?"Ativo":" Inativo"," "),l.xp6(7),l.Q6J("ngModel",r.selectedUser.roleId),l.xp6(1),l.Q6J("ngForOf",r.roles)}}var b=function(){return["new"]},h=function(){var e=function(){function e(t,n){i(this,e),this.authService=t,this.roleService=n,this.virado=!1,this.users=[],this.roles=[]}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.virado=!1,this.selectedUser=null,this.roleService.list().subscribe(function(t){e.roles=t}),this.authService.list().subscribe(function(t){e.users=t})}},{key:"selectUser",value:function(e){console.log(e),this.selectedUser=e,this.virado=!0}},{key:"resetPassword",value:function(){var e=this;this.authService.resetPassword(this.selectedUser.id).subscribe(function(t){return e.ngOnInit()})}},{key:"deactivateUser",value:function(){var e=this;this.authService.deactivate(this.selectedUser.id).subscribe(function(t){return e.ngOnInit()})}},{key:"updateRole",value:function(){var e=this;this.authService.updateRole(this.selectedUser.id,this.selectedUser.roleId).subscribe(function(t){return e.ngOnInit()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(a.e8),l.Y36(a.Nj))},e.\u0275cmp=l.Xpm({type:e,selectors:[["ngx-admin"]],decls:14,vars:7,consts:[[3,"showToggleButton","flipped","flippedChange"],["status","success","routerLinkActive","router-link-active","nbButton","",1,"float-right",3,"routerLink"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[2,"cursor","pointer",3,"click"],["nbButton","","ghost","",3,"click"],["icon","arrow-back-outline"],[1,"row"],[1,"col-4"],["nb","","nbButton","",3,"status","click"],[1,"btn","btn-warning",3,"click"],[1,"mt-3","mb-3"],[1,"form-group","row"],[1,"col-sm-3","label"],[1,"col-sm-9"],[1,"col-6"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["nbButton","","status","warning"],[3,"value"]],template:function(e,t){1&e&&(l.TgZ(0,"nb-flip-card",0),l.NdJ("flippedChange",function(e){return t.virado=e}),l.TgZ(1,"nb-card-front"),l.TgZ(2,"nb-card"),l.TgZ(3,"nb-card-header"),l._uU(4,"Usu\xe1rios "),l.TgZ(5,"button",1),l._uU(6,"Cadastrar"),l.qZA(),l.qZA(),l.TgZ(7,"nb-card-body"),l.TgZ(8,"nb-list"),l.YNc(9,Z,2,1,"nb-list-item",2),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(10,"nb-card-back"),l.TgZ(11,"nb-card"),l.YNc(12,v,4,1,"nb-card-header",3),l.YNc(13,g,38,7,"nb-card-body",3),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("showToggleButton",!1)("flipped",t.virado),l.xp6(5),l.Q6J("routerLink",l.DdM(6,b)),l.xp6(4),l.Q6J("ngForOf",t.users),l.xp6(3),l.Q6J("ngIf",t.selectedUser),l.xp6(1),l.Q6J("ngIf",t.selectedUser))},directives:[d.fl2,d.zO1,d.Asz,d.ndF,d.DPz,s.Od,s.rH,d.yKW,d.zP_,c.sg,d.wgE,c.O5,d.qBV,d.fMN,d.rs,f.JJ,f.On,d.q51],styles:[""]}),e}(),m=o(85685),A=o(36987),q=function(){return["../list"]};function T(e,t){1&e&&(l.TgZ(0,"a",18),l._UZ(1,"nb-icon",19),l.qZA()),2&e&&l.Q6J("routerLink",l.DdM(1,q))}function U(e,t){if(1&e&&(l.TgZ(0,"nb-option",14),l._uU(1),l.qZA()),2&e){var n=t.$implicit;l.Q6J("value",n.id),l.xp6(1),l.Oqu(n.name)}}var y,w,k=[{path:"",component:h},{path:"new",component:(y=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(o,n);var r=t(o);function o(e,t,n){var u;return i(this,o),(u=r.call(this,e,new a.Ou)).injector=e,u.authService=t,u.roleService=n,u.roles=[],u.roleService.list().subscribe(function(e){return u.roles=e}),u}return u(o,[{key:"buildResourceForm",value:function(){this.resourceForm=this.formBuilder.group({id:[0],email:[null,f.kI.required],password:[null,f.kI.required],name:[null,f.kI.required],isActive:[!0,f.kI.required],roleId:[!0,f.kI.required]})}},{key:"getServiceCall",value:function(){throw new Error("Method not implemented.")}},{key:"putServiceCall",value:function(){throw new Error("Method not implemented.")}},{key:"postServiceCall",value:function(){return this.authService.register.bind(this.authService)}},{key:"jsonDataToResourceFn",value:function(e){return Object.assign(new a.Ou,e)}},{key:"navigateBack",value:function(){this.router.navigate(["../"],{relativeTo:this.route})}}]),o}(m.e),y.\u0275fac=function(e){return new(e||y)(l.Y36(l.zs3),l.Y36(a.e8),l.Y36(a.Nj))},y.\u0275cmp=l.Xpm({type:y,selectors:[["ng-component"]],features:[l.qOj],decls:40,vars:9,consts:[[3,"formGroup","submit"],[1,"container"],["routerLinkActive","router-link-active",3,"routerLink",4,"ngIf"],[3,"errorList"],[1,"form-group","row"],["for","inputName",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","nbInput","","fullWidth","","id","inputName","placeholder","Nome","formControlName","name"],["for","inputEmail",1,"label","col-sm-3","col-form-label"],["type","text","nbInput","","fullWidth","","id","inputEmail","placeholder","E-mail","formControlName","email"],["for","inputPassword",1,"label","col-sm-3","col-form-label"],["type","password","nbInput","","fullWidth","","id","inputPassword","placeholder","Senha","formControlName","password"],[1,"col-sm-3","label"],["id","isActive","formControlName","isActive","fullWidth","",3,"selected"],[3,"value"],["id","roleId","formControlName","roleId","fullWidth",""],[3,"value",4,"ngFor","ngForOf"],["nbButton","","status","primary","type","submit",3,"disabled"],["routerLinkActive","router-link-active",3,"routerLink"],["icon","arrow-back"]],template:function(e,t){1&e&&(l.TgZ(0,"form",0),l.NdJ("submit",function(){return t.submitForm()}),l.TgZ(1,"div",1),l.TgZ(2,"nb-card"),l.TgZ(3,"nb-card-header"),l.YNc(4,T,2,2,"a",2),l._uU(5," Novo Usu\xe1rio"),l.qZA(),l.TgZ(6,"nb-card-body"),l._UZ(7,"ngx-page-alerts",3),l.TgZ(8,"div",4),l.TgZ(9,"label",5),l._uU(10,"Nome do usu\xe1rio"),l.qZA(),l.TgZ(11,"div",6),l._UZ(12,"input",7),l.qZA(),l.qZA(),l.TgZ(13,"div",4),l.TgZ(14,"label",8),l._uU(15,"E-mail"),l.qZA(),l.TgZ(16,"div",6),l._UZ(17,"input",9),l.qZA(),l.qZA(),l.TgZ(18,"div",4),l.TgZ(19,"label",10),l._uU(20,"Senha"),l.qZA(),l.TgZ(21,"div",6),l._UZ(22,"input",11),l.qZA(),l.qZA(),l.TgZ(23,"div",4),l.TgZ(24,"label",12),l._uU(25,"Status"),l.qZA(),l.TgZ(26,"div",6),l.TgZ(27,"nb-select",13),l.TgZ(28,"nb-option",14),l._uU(29,"Ativo"),l.qZA(),l.TgZ(30,"nb-option",14),l._uU(31,"Inativo"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"div",4),l.TgZ(33,"label",12),l._uU(34,"Fun\xe7\xe3o"),l.qZA(),l.TgZ(35,"div",6),l.TgZ(36,"nb-select",15),l.YNc(37,U,2,2,"nb-option",16),l.qZA(),l.qZA(),l.qZA(),l.TgZ(38,"button",17),l._uU(39),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.Q6J("formGroup",t.resourceForm),l.xp6(4),l.Q6J("ngIf",!t.isNew),l.xp6(3),l.Q6J("errorList",t.serverErrorMessages),l.xp6(20),l.Q6J("selected",!0),l.xp6(1),l.Q6J("value",!0),l.xp6(2),l.Q6J("value",!1),l.xp6(7),l.Q6J("ngForOf",t.roles),l.xp6(1),l.Q6J("disabled",t.resourceForm.invalid),l.xp6(1),l.Oqu(t.isNew?"Cadastrar":"Atualizar"))},directives:[f._Y,f.JL,f.sg,d.Asz,d.ndF,c.O5,d.yKW,A.d,d.h8i,f.Fj,f.JJ,f.u,d.rs,d.q51,c.sg,d.DPz,s.yS,s.Od,d.fMN],styles:[""]}),y)}],_=function(){var e=function e(){i(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[s.Bz.forChild(k)],s.Bz]}),e}(),x=o(65108),O=((w=function e(){i(this,e)}).\u0275fac=function(e){return new(e||w)},w.\u0275mod=l.oAB({type:w}),w.\u0275inj=l.cJS({imports:[[c.ez,_,x.m]]}),w)}}])}();